CREATE DATABASE INVENTORY;
USE INVENTORY;

/*
DROP TABLE ADD_SUP;
DROP TABLE ADD_PROD;
DROP TABLE ADD_CUST;
DROP TABLE ADD_ORD;
DROP TABLE ADD_STK;
*/

/* CREATE SUPPLIER TABLE */
CREATE TABLE ADD_SUP
(SID CHAR(5) NOT NULL,
SNAME VARCHAR (40) NOT NULL,
SADD VARCHAR (50) NOT NULL,
SCITY VARCHAR(10) DEFAULT 'DELHI',
SPHONE CHAR(12) UNIQUE,
EMAIL VARCHAR(50),
PRIMARY KEY (SID));

/* CREATE PRODUCT TABLE */
CREATE TABLE ADD_PROD
(PID CHAR(5) NOT NULL,
PDESC VARCHAR(40) NOT NULL,
PRICE INT CHECK (PRICE>0),
CATEGORY VARCHAR(40) CHECK (CATEGORY in ('IT','HA','HC')),
SID CHAR(5) NOT NULL,
PRIMARY KEY (PID),
FOREIGN KEY (SID) REFERENCES ADD_SUP (SID));

/* CREATE CUSTOMER TABLE */
CREATE TABLE ADD_CUST
(CID CHAR(5) NOT NULL,
CNAME VARCHAR (40) NOT NULL,
ADDRESS VARCHAR (50) NOT NULL,
CITY VARCHAR(10) NOT NULL,
PHONE CHAR(12) NOT NULL,
EMAIL VARCHAR(50) NOT NULL,
PRIMARY KEY (CID),
DOB DATE CHECK(DOB<'1-JAN-2000'));

/* CREATE ORDERS TABLE */
CREATE TABLE ADD_ORD
(OID CHAR(5) NOT NULL,
PRIMARY KEY (OID),
ODATE DATE,
CID CHAR(5) NOT NULL,
PID CHAR(5) NOT NULL,
FOREIGN KEY (CID) REFERENCES ADD_CUST(CID),
FOREIGN KEY (PID) REFERENCES ADD_PROD(PID),
OQTY INT CHECK(OQTY >= 1));

/* CREATE STOCK TABLE */
CREATE TABLE ADD_STK
(PID CHAR(5) NOT NULL,
FOREIGN KEY (PID) REFERENCES ADD_PROD (PID),
SQTY INT CHECK (SQTY >= 0),
ROL INT CHECK (ROL > 0),
MOQ INT CHECK (MOQ >= 5));


/* INSERT TO SUPPLIER TABLE */
INSERT INTO ADD_SUP
VALUES ('S0001', 'LOGITECH', '35/2, SECRETARIAT ROAD', 'DELHI', '9988776655', 'CUST_SUPPORT@LOGITECH.COM'),
('S0002', 'MICROSOFT', '#63, CHANDNI CHOWK', 'DELHI', '1122334455', 'SERVICES@MICROSOFT.CO.IN'),
('S0003', 'DELL', 'A-4/3, NEHRU PLACE', 'DELHI', '8855224466', 'CUST_CARE@DELL.COM'),
('S0004', 'MI', 'F23 CONNAUGHT PLACE', 'DELHI', '6644889911', 'SUPPORT@XIAOMI.CO.IN'),
('S0005', 'HP', '#45 SAFDARJUNG ROAD', 'DELHI', '7744889911', 'ORDER_SUPPORT@HP.COM'),
('S0006', 'LENOVO', '65/124, SAROJINI NAGAR', 'DELHI', '8800224499', 'CUST_RELATIONSHIP@LENOVO.COM'),
('S0007', 'SAMSUNG', '#269, FRAZER TOWN', 'DELHI', '3322008877', 'MY_SUPPORT@SAMSUNG.CO.IN');

/* INSERT TO PRODUCT TABLE */
INSERT INTO ADD_PROD
VALUES ('P0001', 'MULTIMEDIA KEYBOARD', 1500, 'IT', 'S0004'),
('P0002', 'WIRELESS KEYBOARD', 2500, 'IT', 'S0005'),
('P0003', 'KEYBOARD + MOUSE COMBO', 3000, 'IT', 'S0006'),
('P0004', 'WIRED KEYBOARD', 1200, 'IT', 'S0007'),
('P0005', 'MECHANICAL KEYBOARD', 3200, 'IT', 'S0001'),
('P0006', 'WIRELESS KEYBOARD', 2650, 'IT', 'S0002'),
('P0007', 'MECHANICAL KEYBOARD', 2800, 'IT', 'S0003'),
('P0008', 'MULTIMEDIA KEYBOARD', 1450, 'IT', 'S0003'),
('P0009', 'WIRELESS KEYBOARD', 2450, 'IT', 'S0002'),
('P0010', 'KEYBOARD + MOUSE COMBO', 3150, 'IT', 'S0001'),
('P0011', 'WIRED KEYBOARD', 950, 'IT', 'S0007'),
('P0012', 'MECHANICAL KEYBOARD', 2975, 'IT', 'S0006'),
('P0013', 'WIRELESS KEYBOARD', 2475, 'IT', 'S0005'),
('P0014', 'WIRED KEYBOARD', 1150, 'IT', 'S0004'),
('P0015', 'MECHANICAL KEYBOARD', 3050, 'IT', 'S0003'),
('P0016', 'WIRELESS KEYBOARD', 2540, 'IT', 'S0002'),
('P0017', 'MECHANICAL KEYBOARD', 3125, 'IT', 'S0001');

/* INSERT TO CUSTOMER TABLE */
INSERT INTO ADD_CUST
VALUES ('C0001', 'SACHIN TENDULKAR', '#255, ANDHERI EAST', 'MUMBAI', '1346792585', 'SACHIN@GMAIL.COM', '25-JUN-1973'),
('C0002', 'SOURAV GANGULY', '#25, BEHALA MORE', 'KOLKATA', '3325874120', 'SOURAG.G@YAHOO.CO.IN', '03-NOV-1975'),
('C0003', 'VIRENDER SEHWAG', '459, NEHRU PLACE', 'DELHI', '4568712305', 'VIRU@OUTLOOK.COM', '15-JAN-1977'),
('C0004', 'RAHUL DRAVID', '#25, 100 FEET ROAD, INDIRANAGAR', 'BANGALORE', '9986521478', 'RAHUL@GMAIL.COM', '25-FEB-1971'),
('C0005', 'VVS LAXMAN', '#22 GUINDY', 'CHENNAI', '5621478521', 'LAXY@YAHOO.COM', '03-OCT-1971'),
('C0006', 'GAUTAM GAMBHIR', '45/25-26, SAROJINI NAGAR', 'DELHI', '9963215874', 'GAUTAM@HOTMAIL.COM', '19-SEP-1986');

/* INSERT TO ORDERS TABLE */
INSERT INTO ADD_ORD
VALUES ('O0001', '25-NOV-2021', 'C0003', 'P0012', 5),
('O0002', '05-JAN-2022', 'C0006', 'P0003', 6),
('O0003', '22-DEC-2021', 'C0001', 'P0015', 5),
('O0004', '12-JAN-2022', 'C0002', 'P0008', 8),
('O0005', '07-DEC-2021', 'C0004', 'P0003', 10);

/* INSERT TO STOCK TABLE */
INSERT INTO ADD_STK
VALUES ('P0012', 10, 5, 5),
('P0003', 10, 5, 5),
('P0015', 10, 5, 5),
('P0008', 5, 3, 5),
('P0003', 5, 3, 5),
('P0001', 5, 3, 5),
('P0002', 5, 3, 5),
('P0004', 15, 5, 10),
('P0005', 12, 5, 10),
('P0007', 12, 5, 10);


/* VIEW ALL THE TABLES */
SELECT * FROM ADD_SUP;
SELECT * FROM ADD_PROD;
SELECT * FROM ADD_CUST;
SELECT * FROM ADD_ORD;
SELECT * FROM ADD_STK;